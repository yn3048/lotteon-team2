<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>ë¡¯ë°ON::2ì¡°</title>
    <link rel="shortcut icon" type="image/x-icon" th:href="@{/images/favicon.ico}"/>
    <link rel="stylesheet"
          th:href="@{https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css}">
    <link rel="stylesheet" th:href="@{https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}"/>
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css}">
    <link rel="stylesheet" th:href="@{/css/common.css}"/>
    <link rel="stylesheet" th:href="@{/css/member.css}"/>
    <script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js}"></script>
    <link rel="stylesheet"
          th:href="@{https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css}">
    <script th:src="@{https://kit.fontawesome.com/20962f3e4b.js}" crossorigin="anonymous"></script>
    <link rel="stylesheet" th:href="@{https://cdn.jsdelivr.net/bxslider/4.2.12/jquery.bxslider.css}">
    <script th:src="@{/js/util.js}"></script>
    <script th:inline="javascript">

        window.onload = function () {

            const success = [[${success}]];

            if (success == 100) {
                alertModal('ë¡œê·¸ì¸ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.\në‹¤ì‹œ í•œë²ˆ ì•„ì´ë””, ë¹„ë°€ë²ˆí˜¸ë¥¼ í™•ì¸ í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤. ğŸ˜¢');
            } else if (success == 200) {
                alertModal('íšŒì› ê°€ì… ë˜ì—ˆìŠµë‹ˆë‹¤. ğŸ˜Š');
            } else if (success == 300) {
                alertModal('ë¡œê·¸ì•„ì›ƒ ë˜ì—ˆìŠµë‹ˆë‹¤. ì•ˆë…•íˆ ê°€ì„¸ìš”. ğŸ˜ƒ');
            }

            // í˜ì´ì§€ ë¡œë“œ ì‹œ, ì €ì¥ëœ ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë¶ˆëŸ¬ì™€ì„œ ì…ë ¥ í•„ë“œì— ì±„ì›€
            const savedUid = localStorage.getItem('savedUid');
            if (savedUid) {
                document.getElementById('inputUid').value = savedUid;
            }

            // ì²´í¬ë°•ìŠ¤ ìƒíƒœ ë³€ê²½ ì‹œ, ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì €ì¥í•˜ê±°ë‚˜ ì‚­ì œí•¨
            const rememberCheckbox = document.getElementById('inputRememberId');

            // ì €ì¥ëœ ì•„ì´ë””ê°€ ìˆìœ¼ë©´ ì²´í¬ë°•ìŠ¤ë¥¼ ì²´í¬í•¨
            if (savedUid) {
                rememberCheckbox.checked = true;
            }

            rememberCheckbox.addEventListener('change', function () {
                if (this.checked) {
                    rememberUid();
                } else {
                    clearSavedUid();
                }
            });

        }

        function rememberUid() {
            // ì•„ì´ë”” ì…ë ¥ í•„ë“œì—ì„œ ì•„ì´ë””ë¥¼ ê°€ì ¸ì™€ì„œ ë¡œì»¬ ìŠ¤í† ë¦¬ì§€ì— ì €ì¥
            const uid = document.getElementById('inputUid').value;
            localStorage.setItem('savedUid', uid);
        }

        function clearSavedUid() {
            // ì €ì¥ëœ ì•„ì´ë””ë¥¼ ì‚­ì œí•¨
            localStorage.removeItem('savedUid');
        }

    </script>
</head>

<body>
<main class="content" id="member">

    <div class="login">

        <form method="post">
            <a th:href="@{/}">
                <img class="loginLogo" th:src="@{/images/logo_lotte_on_login.png}" alt="ë¡œê·¸ì¸ë¡œê³ ">
            </a>

            <table border="0">
                <tr>
                    <td><input type="text" id="inputUid" name="uid" placeholder="ì•„ì´ë”” ì…ë ¥"></td>
                </tr>
                <tr>
                    <td><input type="password" name="pass" placeholder="8~15ìë¦¬ ì˜ë¬¸+ìˆ«ì+íŠ¹ìˆ˜ë¬¸ì ì¡°í•©"></td>
                </tr>
                <tr>
                    <td><input type="submit" class="loginBtn" value="ë¡œê·¸ì¸"/></td>
                </tr>

            </table>

            <span>
                <label><input type="checkbox" id="inputRememberId" onchange="if(this.checked) {rememberUid();} else {clearSavedUid();}"/>ì•„ì´ë”” ê¸°ì–µí•˜ê¸°</label>
                <a th:href="@{/member/findId}">ì•„ì´ë””ì°¾ê¸°</a>
                <a th:href="@{/member/findPassword}">ë¹„ë°€ë²ˆí˜¸ì°¾ê¸°</a>
                <a th:href="@{/member/join}">íšŒì›ê°€ì…</a>
            </span>
            <a th:href="@{/oauth2/authorization/google}" class="oauth2">
                <img class="google" th:src="@{/images/google_2.png}" alt="ë¡œê·¸ì¸">
            </a>
        </form>

        <a th:href="@{/}" class="banner" th:each="banner:${banners}" th:if="${banner.blocation.equals('MEMBER1')} and ${banner.bmanage == 1}">
            <img th:src="@{|/uploads/banner/${banner.bfile}|}">
        </a>
    </div>
</main>
</body>

</html>